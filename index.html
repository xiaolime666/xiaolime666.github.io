<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>李家安｜個人介紹</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-1: #020617;
      --bg-2: #0b1120;
      --accent: #38bdf8;
      --accent-2: #a855f7;
      --accent-soft: rgba(56,189,248,0.35);
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --glass-bg: rgba(15,23,42,0.72);
      --glass-border: rgba(148,163,184,0.45);
      --radius-lg: 18px;
      --shadow-glass: 0 18px 45px rgba(15,23,42,0.85);
    }

    body {
      min-height: 100vh;
      color: var(--text-main);
      background:
        radial-gradient(circle at top left, rgba(56,189,248,0.25), transparent 55%),
        radial-gradient(circle at bottom right, rgba(168,85,247,0.25), transparent 55%),
        linear-gradient(135deg, var(--bg-1), var(--bg-2));
      background-attachment: fixed;
      overflow-x: hidden;
      font-family: "Noto Sans TC", sans-serif;
    }

    /* Spotify Player CSS */
    .spotify-player {
      position: fixed;
      left: 20px;
      bottom: 20px;
      width: 260px;
      border-radius: 20px;
      padding: 16px;
      background: rgba(15, 23, 42, 0.88);
      border: 1px solid rgba(148,163,184,0.35);
      backdrop-filter: blur(18px);
      box-shadow: 0 18px 45px rgba(0,0,0,0.55);
      z-index: 999;
    }

    .sp-header {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .sp-cover {
      width: 58px;
      height: 58px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 18px rgba(56,189,248,0.35);
    }

    .sp-cover img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .sp-title {
      font-size: 14px;
      font-weight: 700;
      color: #e5e7eb;
    }

    .sp-sub {
      font-size: 11px;
      color: #9ca3af;
    }

    .sp-controls {
      margin-top: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 18px;
    }

    .sp-btn {
      font-size: 20px;
      color: #e5e7eb;
      cursor: pointer;
      transition: transform .15s ease;
    }

    .sp-btn:hover {
      transform: scale(1.15);
    }

    .sp-bar {
      width: 100%;
      height: 4px;
      background: rgba(255,255,255,0.15);
      border-radius: 999px;
      margin-top: 12px;
      overflow: hidden;
    }

    .sp-bar-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #38bdf8, #a855f7);
      border-radius: 999px;
    }

    .vis-bars {
      display: flex;
      gap: 3px;
      margin-top: 12px;
      height: 18px;
    }

    .vis-bar {
      flex: 1;
      background: linear-gradient(180deg, #38bdf8, #a855f7);
      border-radius: 6px;
      transform-origin: bottom;
      opacity: .75;
    }

    /* Right bottom circular photo */
    .photo-box {
      position: fixed;
      right: 18px;
      bottom: 18px;
      width: 120px;
      height: 120px;
      border-radius: 999px;
      background:
        linear-gradient(#020617, #020617) padding-box,
        conic-gradient(from 210deg, var(--accent), var(--accent-2), var(--accent)) border-box;
      border: 3px solid transparent;
      overflow: hidden;
      box-shadow: 0 20px 50px rgba(15,23,42,0.95);
      animation: float-soft 6s ease-in-out infinite;
      z-index: 900;
    }

    .photo-box img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: .96;
      transition: .25s ease;
    }

    .photo-box:hover img {
      transform: scale(1.07);
      opacity: 1;
    }

    @keyframes float-soft {
      0%   { transform: translateY(0); }
      50%  { transform: translateY(-6px); }
      100% { transform: translateY(0); }
    }

  </style>
</head>

<body>

  <!-- ░░░ Spotify 風格播放器 ░░░ -->
  <div class="spotify-player">
    
    <div class="sp-header">
      <div class="sp-cover">
        <img src="1713.png">
      </div>
      <div>
        <div class="sp-title">背景音樂</div>
        <div class="sp-sub">Auto BGM</div>
      </div>
    </div>

    <div class="sp-controls">
      <div class="sp-btn" id="spPlay">▶</div>
      <div class="sp-btn" id="spPause">⏸</div>
    </div>

    <div class="sp-bar">
      <div class="sp-bar-fill" id="spBarFill"></div>
    </div>

    <!-- 音樂律動光效 -->
    <div class="vis-bars" id="visBars"></div>

    <audio id="bgm" loop>
      <source src="1712.mp3" type="audio/mpeg">
    </audio>

  </div>

  <!-- ░░░ 右下圓形霓虹頭像 ░░░ -->
  <div class="photo-box">
    <img src="1713.png" alt="Me">
  </div>

  <!-- ░░░ Spotify Player Script ░░░ -->
  <script>
    const audio = document.getElementById("bgm");
    const spPlay = document.getElementById("spPlay");
    const spPause = document.getElementById("spPause");
    const spBarFill = document.getElementById("spBarFill");
    const visBars = document.getElementById("visBars");

    /* -------- 建立 12 根光柱 -------- */
    for (let i = 0; i < 12; i++) {
      const bar = document.createElement("div");
      bar.classList.add("vis-bar");
      visBars.appendChild(bar);
    }

    /* -------- 建立 Web Audio API -------- */
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    const ctx = new AudioCtx();
    const src = ctx.createMediaElementSource(audio);
    const analyser = ctx.createAnalyser();

    analyser.fftSize = 64;
    const bufferLength = analyser.frequencyBinCount;
    const dataArray = new Uint8Array(bufferLength);

    src.connect(analyser);
    analyser.connect(ctx.destination);

    /* -------- 淡入效果 -------- */
    audio.volume = 0;
    function fadeIn() {
      let vol = 0;
      const timer = setInterval(() => {
        vol += 0.02;
        audio.volume = vol;
        if (vol >= 1) clearInterval(timer);
      }, 60);
    }

    /* -------- 播放 / 暫停按鈕 -------- */
    spPlay.onclick = () => {
      audio.play();
      fadeIn();
    };

    spPause.onclick = () => {
      audio.pause();
    };

    /* -------- 進度條 -------- */
    audio.ontimeupdate = () => {
      if (!audio.duration) return;
      spBarFill.style.width = (audio.currentTime / audio.duration) * 100 + "%";
    };

    /* -------- 音樂律動動畫 -------- */
    function animate() {
      requestAnimationFrame(animate);
      analyser.getByteFrequencyData(dataArray);
      const bars = document.querySelectorAll(".vis-bar");

      bars.forEach((bar, i) => {
        const v = dataArray[i] / 255;
        const h = 6 + v * 18;
        bar.style.transform = `scaleY(${h})`;
        bar.style.opacity = 0.5 + v * 0.5;
      });
    }
    animate();

    /* -------- A+B 自動播放策略 -------- */
    audio.muted = true;
    audio.play().catch(()=>{});

    function unlock() {
      audio.muted = false;
      audio.play().catch(()=>{});
      fadeIn();
      window.removeEventListener("click", unlock);
      window.removeEventListener("touchstart", unlock);
    }

    window.addEventListener("click", unlock);
    window.addEventListener("touchstart", unlock);
  </script>

</body>
</html>
